// style variables
$color-primary: #2F86F6;
$font-body-normal: 0.26rem;
$font-minor-normal: 0.2rem;
$color-text-base: #111A34;
$color-text-base-inverse: #FFF;
$color-bg-inverse: #FFF;
$color-mask: rgba(37, 38, 45, 0.7);
$radius-circle: 50%;
$tag-color: $color-primary;
$tag-fillet-radius: 0.02rem;
$tag-large-font-size: $font-body-normal;
$tag-small-font-size: $font-minor-normal;
$tag-tiny-font-size: 0.12rem;
$popup-title-bar-radius: 8px;
$popup-title-bar-radius-large: 40px;
$popup-mask-bg: $color-mask;
$popup-zindex: 1000;

// common util styles
@mixin absolute-pos($t: 0, $r: 0, $b: 0, $l: 0) {
  top: $t;
  right: $r;
  bottom: $b;
  left: $l;
}

@mixin fixed-pos($t: 0, $r: 0, $b: 0, $l: 0) {
  @include absolute-pos($t, $r, $b, $l);
}

@mixin block() {
  float: left;
  width: 100%;
}

@mixin clearfix() {
  &:after {
    content: "";
    display: table;
    clear: both;
  }
}

@mixin word-break() {
  word-break: break-all;
  word-wrap: break-word;
}

@mixin word-ellipsis() {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

@mixin hairline-common($direction) {
  content: '';
  position: absolute;
  z-index: 2;
  transform-origin: 100% 50%;
  @if $direction == top {
    transform: scaleY(0.5) translateY(-100%);
    @media (min-resolution: 3dppx) {
      transform: scaleY(0.33) translateY(-100%);
    }
  } @else if $direction == bottom {
    transform: scaleY(0.5) translateY(100%);
    @media (min-resolution: 3dppx) {
      transform: scaleY(0.33) translateY(100%);
    }
  } @else if $direction == left {
    transform: scaleX(0.5) translateX(-100%);
    @media (min-resolution: 3dppx) {
      transform: scaleX(0.33) translateX(-100%);
    }
  } @else if $direction == right {
    transform: scaleX(0.5) translateX(100%);
    @media (min-resolution: 3dppx) {
      transform: scaleX(0.33) translateX(100%);
    }
  }
}

@mixin hairline($direction: all, $color: color-border-base, $radius: 0, $size: border-width-base) {
  @if $direction == top {
    &::after {
                 
      @include hairline-common($direction);
      top: 0;
      left: 0;
      right: auto;
      bottom: auto;
      width: 100%;
      border-top: solid $size $color;
      transform-origin: 50% 0;
    }
  } @else if $direction == bottom {
    &::before {
                        
      @include hairline-common($direction);
      bottom: 0;
      left: 0;
      right: auto;
      top: auto;
      width: 100%;
      border-bottom: solid $size $color;
      transform-origin: 50% 100%;
    }
  } @else if $direction == left {
    &::after {
                        
      @include hairline-common($direction);
      top: 0;
      left: 0;
      right: auto;
      bottom: auto;
      border-left: solid $size $color;
      height: 100%;
      transform-origin: 0 50%;
    }
  } @else if $direction == right {
    &::before {
                        
      @include hairline-common($direction);
      top: 0;
      right: 0;
      left: auto;
      bottom: auto;
      border-right: solid $size $color;
      height: 100%;
      transform-origin: 100% 50%;
    }
  } @else {
    &::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: auto;
      bottom: auto;
      width: 200%;
      height: 200%;
      border: solid $size $color;
      box-sizing: border-box;
      transform-origin: 0 0;
      transform: scale(0.5);
      z-index: 2;
      @if $radius is a 'unit' {
        border-radius: $radius * 2;
      } @else {
        border-radius: "calc(%s * 2)" % $radius;
      }
    }
  }
}

@mixin remove-hairline($direction: all) {
  @if $direction == top {
    &::after {
      display: none;
    }
  } @else if $direction == bottom {
    &::before {
      display: none;
    }
  } @else if $direction == left {
    &::after {
      display: none;
    }
  } @else if $direction == right {
    &::before {
      display: none;
    }
  } @else {
    &::after {
      display: none;
    }
  }
}

@mixin svg-background($svg) {
  background-image: url($svg);
}

@mixin vertical-height($height) {
  $height: $height;
  line-height: $height;
}

// common transition styles
@mixin placeHolder() {
  animation-duration: 2s;
  animation-fill-mode: forwards;
  animation-iteration-count: infinite;
  animation-name: placeHolderShimmer;
  animation-timing-function: linear;
  background: linear-gradient(to right, #f3f3f6 8%, #f8faff 18%, #f3f3f6 33%);
  background-size: 10rem 1.04rem;
}

@keyframes placeHolderShimmer {
  0% {
    background-position: -4.68rem 0;
  }
  100% {
    background-position: 4.68rem 0;
  }
}

.m-bounce {
  &-enter-active {
    animation: bounce-in 300ms linear;
  }
  &-leave-active {
    animation: zoom-out 250ms linear;
  }
}

.m-zoom {
  &-enter,
  &-leave-to {
    opacity: 0.01;
    transform: scale(0.75);
  }
  &-enter-active {
    transition: all 300ms cubic-bezier(0.215, 0.61, 0.355, 1);
  }
  &-leave-active {
    transition: all 250ms linear;
  }
}

.m-punch {
  &-enter,
  &-leave-to {
    opacity: 0.01;
    transform: scale(1.35);
  }
  &-enter-active {
    transition: all 300ms cubic-bezier(0.215, 0.61, 0.355, 1);
  }
  &-leave-active {
    transition: all 250ms linear;
  }
}

.m-slide-up {
  &-enter,
  &-leave-to {
    transform: translate3d(0, 100%, 0);
  }
  &-enter-active {
    transition: transform 300ms cubic-bezier(0.165, 0.84, 0.44, 1);
  }
  &-leave-active {
    transition: transform 250ms cubic-bezier(0.165, 0.84, 0.44, 1);
  }
}

.m-slide-right {
  &-enter,
  &-leave-to {
    transform: translate3d(-100%, 0, 0);
  }
  &-enter-active {
    transition: transform 300ms cubic-bezier(0.165, 0.84, 0.44, 1);
  }
  &-leave-active {
    transition: transform 250ms cubic-bezier(0.165, 0.84, 0.44, 1);
  }
}

.m-slide-left {
  &-enter,
  &-leave-to {
    transform: translate3d(100%, 0, 0);
  }
  &-enter-active {
    transition: transform 300ms cubic-bezier(0.165, 0.84, 0.44, 1);
  }
  &-leave-active {
    transition: transform 250ms cubic-bezier(0.165, 0.84, 0.44, 1);
  }
}

.m-slide-down {
  &-enter,
  &-leave-to {
    transform: translate3d(0, -100%, 0);
  }
  &-enter-active {
    transition: transform 300ms cubic-bezier(0.165, 0.84, 0.44, 1);
  }
  &-leave-active {
    transition: transform 250ms cubic-bezier(0.165, 0.84, 0.44, 1);
  }
}

.m-fade {
  &-enter,
  &-leave-to {
    opacity: 0.01;
  }
  &-enter-active {
    transition: opacity 300ms cubic-bezier(0.215, 0.61, 0.355, 1);
  }
  &-leave-active {
    transition: opacity 250ms linear;
  }
}

.m-fade-up {
  &-enter,
  &-leave-to {
    opacity: 0.01;
    transform: translate3d(0, 20%, 0);
  }
  &-enter-active {
    transition: all 300ms cubic-bezier(0.215, 0.61, 0.355, 1);
  }
  &-leave-active {
    transition: all 250ms linear;
  }
}

.m-fade-down {
  &-enter,
  &-leave-to {
    opacity: 0.01;
    transform: translate3d(0, -20%, 0);
  }
  &-enter-active {
    transition: all 300ms cubic-bezier(0.215, 0.61, 0.355, 1);
  }
  &-leave-active {
    transition: all 250ms linear;
  }
}

.m-fade-right {
  &-enter,
  &-leave-to {
    opacity: 0.01;
    transform: translate3d(-20%, 0, 0);
  }
  &-enter-active {
    transition: all 300ms cubic-bezier(0.215, 0.61, 0.355, 1);
  }
  &-leave-active {
    transition: all 250ms linear;
  }
}

.m-fade-left {
  &-enter,
  &-leave-to {
    opacity: 0.01;
    transform: translate3d(20%, 0, 0);
  }
  &-enter-active {
    transition: all 300ms cubic-bezier(0.215, 0.61, 0.355, 1);
  }
  &-leave-active {
    transition: all 250ms linear;
  }
}

.m-fly {
  &-enter-active {
    animation: fly-in 600ms;
    animation-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);
  }
  &-leave-active {
    animation: zoom-out 250ms;
  }
}

@keyframes fly-in {
  0% {
    opacity: 0.5;
    transform: scale(0.5) translate3d(0, 0.5rem, 0);
  }
  45% {
    opacity: 1;
    transform: scale(1.05) translate3d(0, -0.5rem, 0);
  }
  100% {
    transform: scale(1) translate3d(0, 0, 0);
  }
}

@keyframes bounce-in {
  0% {
    transform: scale(0.5);
  }
  45% {
    transform: scale(1.05);
  }
  80% {
    transform: scale(0.95);
  }
  100% {
    transform: scale(1);
  }
}

@keyframes zoom-out {
  to {
    opacity: 0.01;
    transform: scale(0.75);
  }
}
